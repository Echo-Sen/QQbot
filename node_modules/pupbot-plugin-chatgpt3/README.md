# OpenAI ChatGPT3 for pupbot

[![npm-version](https://img.shields.io/badge/pupbot--plugin--chatgpt3-1.1.3-blue)](https://npm.im/kivibot-chatgpt)
[![dm](https://shields.io/npm/dm/keli-chatgpt?style=flat-square)](https://npm.im/keli-chatgpt)

[`pupbot`](#) 的 [OpenAI](https://openai.com) ChatGPT 插件。

**特征**

- 默认使用最新的 `GPT-3.5` 模型（`gpt-3.5-turbo`）
- 可选配置触发指令前缀，默认为 `%`
- 可选开启 at 触发（艾特机器人）
- 可选开启仅私聊可用，在群聊中关闭
- 使用 QQ 消息进行配置，无需手动修改
- 从 keli 移植过来

**安装**

```shell
/plugin add chatgpt3
```

**启用**

```shell
/plugin on chatgpt3
```

**配置**

申请 [OpenAI](https://openai.com/api/) 的 apiKey，然后使用以下命令自动配置

```shell
/gpt3 setkey <apiKey>
```

由于国内`api.openai.com`被墙，需要设置代理，打开`bot/node_modules/openai/dist/base.js`,将 18 行的`exports.BASE_PATH = "https://api.openai.com/v1".replace(/\/+$/,"");`改为其他代理(在此不提供代理，请自己寻找或自己搭建)

```shell
exports.BASE_PATH = "https://api.openai.com/v1".replace(/\/+$/,""); // 找到代理地址，替换`api.openai.com`为代理地址即可
```

**使用**

```shell
%背诵故事静夜思
%换个话题吧
```

**可选配置**

配置是否艾特触发，默认开启

```shell
/gpt3 at <on/off>
```

配置是否启用群聊，默认开启，发言不可控，为了账号安全可以关闭群聊功能，仅保留私聊

```shell
/gpt3 group <on/off>
```

配置触发前缀，默认 %，不可为空

```shell
/gpt3 prefix <prefix>
```

配置完成后，通过消息命令重载 ChatGPT 插件生效。

```shell
/plugin reload chatgpt3
```

其他配置可手动修改 `data/plugin/kivibot-plugin-chatgpt3/config.json` 文件，重载插件生效。
